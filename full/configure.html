<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8" />
    <title>JS Timer</title>
    <link rel="stylesheet" type="text/css" href="timer.css">
    <script src="Chart.js"></script>
    <script language="JavaScript">

    function updateSettings() {
        var sForm=document.getElementById("setform");
        var pElem=document.getElementsByName('pres');
        var qElem=document.getElementsByName('qa');
        var nElem=document.getElementsByName('name');
	var presVocElem=document.getElementsByName('presVoc');
	var qaVocElem=document.getElementsByName('qaVoc');
	localStorage["presVocab"]=presVocElem[0].value;
	localStorage["qaVocab"]=qaVocElem[0].value;
        for (var i=0; i<pElem.length; i++) {
            localStorage["pr"+i]=pElem[i].value;
            localStorage["qa"+i]=qElem[i].value;
            localStorage["name"+i]=nElem[i].value;
        }
	window.location.href="index.html";
    }
    function loadSettings() {
        var sForm=document.getElementById("setform");
        var pElem=document.getElementsByName('pres');
        var qElem=document.getElementsByName('qa');
        var nElem=document.getElementsByName('name');
    	for (var i=0; i<pElem.length; i++) {
	    nElem[i].value=localStorage["name"+i];
	    pElem[i].value=localStorage["pr"+i];
	    qElem[i].value=localStorage["qa"+i];
	}
	var presVocElem=document.getElementsByName('presVoc');
	presVocElem[0].value=localStorage["presVocab"];
	var qaVocElem=document.getElementsByName('qaVoc');
	qaVocElem[0].value=localStorage["qaVocab"];
    }
    function cancelSettings() {
    	if(confirm("Discard changes?")) {
	    window.location.href="index.html";
	}
    }
    </script>
</head>
<body onLoad="loadSettings()">

    <table id="configtable">
    <form id="setform">
    <tr>
      <td rowspan="4">
	<div class="helptext">
	  <h2>Configure JS Timer</h2>
	  <p>
	  Configure the timer preset buttons using the fields on the right.
	  For each present, enter a Preset Name in the top field, and the 
	  time slots in the bottom two fields. The first time field (left)
	  is the number of minutes for the talk / presentation. The second
	  field (right) is the number of minutes for the Q&amp;A period.
	  </p>
	  <p>If you don't want to use the Q&amp;A period, simply leave the right-hand
	  time field blank.
	  </p>
	  <p>Click "Save settings" to save your presets or "Cancel" to discard
	  changes and return to the original presets.</p>
	</div>
      </td>
      <td>
	<div class="preset">
	    Presentation time label:
	    <input type="text" size="20" name="presVoc" />
	</div>
      </td>
      <td>
	<div class="preset">
	    Preset 1: <input type="text" size="12" name="name" /><br/>
	    <input type="text" size="3" name="pres" /> /
	    <input type="text" size="3" name="qa" />
	</div>
      </td>
    </tr>
    <tr>
      <td>
	<div class="preset">
	    Q&A time label:
	    <input type="text" size="20" name="qaVoc" />
	</div>
      </td>
      <td>
	<div class="preset">
	    Preset 2:  <input type="text" size="12" name="name" /><br/>
	    <input type="text" size="3" name="pres" /> /
	    <input type="text" size="3" name="qa" />
	</div>
      </td>
    </tr>
    <tr>
      <td></td>
      <td>
	<div class="preset">
	    Preset 3: <input type="text" size="12" name="name" /><br/>
	    <input type="text" size="3" name="pres" /> /
	    <input type="text" size="3" name="qa" /> <br/>
	</div>
      </td>
    </tr>
</form>
    <tr>
      <td></td>
      <td>
	<button onClick="updateSettings()">Save settings</button>
	<button onClick="cancelSettings()">Cancel</button>
      </td>
    </tr>
    </table>

</body>
</html>

